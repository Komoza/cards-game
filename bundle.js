(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{I:()=>o});let t=0;const n=document.getElementById("root"),a=(e,t)=>{n.innerHTML+=`\n        <div class="end">\n            <div class="end__wrap">\n                <img class="end__image" src="./images/${e?"win":"lose"}-game.png" alt="${e?"win":"lose"} game">\n                <p class="end__status">${e?"Вы выиграли!":"Вы проиграли!"}</p>\n                <p class="end__time-text">Затраченое время</p>\n                <p class="end__time">${t.min}.${t.sec}</p>\n                <button class="end__again">Играть снова</button>\n            </div>\n        </div>\n    `,document.querySelector(".end__again").addEventListener("click",(()=>{o("Difficulty")}))};let s=[];const c=e=>{switch(e){case 1:return"spades";case 2:return"hearts";case 3:return"diamonds";case 4:return"clubs";default:return"error"}},r=e=>{switch(e){case 6:return"six";case 7:return"seven";case 8:return"eight";case 9:return"nine";case 10:return"ten";case 11:return"jack";case 12:return"queen";case 13:return"king";case 14:return"ace";default:return"error"}},i=()=>{let e={value:"",nod:null},t={value:"",nod:null};const n=document.querySelector(".new-game");n.classList.add("new-game--active"),n.addEventListener("click",(()=>{o("Difficulty")}));const s=document.querySelector(".timer__counter--min"),c=document.querySelector(".timer__counter--sec");let r="",i="";setInterval((()=>{r=Number(c.innerHTML)+1,r<60?c.innerHTML=Number(r)<10?"0"+r:r:(i=Number(s.innerHTML)+1,s.innerHTML=Number(i)<10?"0"+i:i,c.innerHTML="00")}),1e3),document.querySelectorAll(".game__card").forEach((n=>{n.addEventListener("click",(()=>{"open"!==n.dataset.status&&(n.setAttribute("src",`./images/card/${n.dataset.value}.jpg`),e.value?(t.value=n.dataset.value,t.nod=n,((e,t)=>{const n=document.querySelector(".timer__counter--min").innerHTML,s=document.querySelector(".timer__counter--sec").innerHTML;e.value!==t.value?a(!1,{min:n,sec:s}):(e.nod.setAttribute("data-status","open"),t.nod.setAttribute("data-status","open"),(()=>{const e=document.querySelectorAll(".game__card");for(let t of e)if("open"!==t.dataset.status)return!1;return!0})()?a(!0,{min:n,sec:s}):(e.value="",e.nod=null,t.value="",t.nod=null))})(e,t)):(e.value=n.dataset.value,e.nod=n))}))}))},l=e=>{let t="",n="";for(let a=0;a<e/2;a++){do{t=r(Math.floor(9*Math.random())+6),n=c(Math.floor(4*Math.random())+1)}while(s.includes(`<img data-value="${t}-of-${n}" class="game__card" src="./images/card/${t}-of-${n}.jpg" alt="card"/>`));let a=`<img data-value="${t}-of-${n}" class="game__card" src="./images/card/${t}-of-${n}.jpg" alt="card"/>`;s.push(a);let i=Math.floor(Math.random()*e)+1,l=!1;for(;!l;)s[i]?i===e?i=1:i++:(s[i]=a,l=!0)}setTimeout((()=>{document.querySelectorAll(".game__card").forEach((e=>{e.setAttribute("src","./images/card/dealer-shirt.jpg")}))}),5e3)},u=document.getElementById("root");let d="Difficulty";const o=e=>{d=e,m()},m=()=>{switch(d){case"Difficulty":(e=>{t=0,e.innerHTML='\n  <div class="container">\n    <div class="difficulty">\n      <h2 class="difficulty__text">Выбери сложность</h2>\n      <form class="difficulty__form">\n        <div class="difficulty__value-wrap">\n          <label class="difficulty__value">\n            <input type="radio" name="difficulty" value="1">\n            <span>1</span>\n          </label>\n          <label class="difficulty__value">\n            <input type="radio" name="difficulty" value="2">\n            <span>2</span>\n          </label>\n          <label class="difficulty__value">\n            <input type="radio" name="difficulty" value="3">\n            <span>3</span>\n          </label>\n        </div>\n        <button type="submit" class="difficulty__start">Старт</button>\n      </form>\n      </div>\n  </div>\n',document.querySelector(".difficulty__form").addEventListener("submit",(e=>{e.preventDefault();const n=document.querySelectorAll('.difficulty__value input[type="radio"]');for(let e of n)if(e.checked){t=e.value,o("Game");break}t||alert("выберите сложность")}));const n=document.querySelectorAll(".difficulty__value"),a=document.querySelector(".difficulty__start");n.forEach((e=>{e.addEventListener("click",(()=>{a.classList.add("new-game--active"),document.querySelector(".difficulty__value--active")?.classList.remove("difficulty__value--active"),e.classList.add("difficulty__value--active")}))}))})(u);break;case"Game":(e=>{switch(s=[],t){case"1":l(6);break;case"2":l(12);break;case"3":l(18)}e.innerHTML=`\n    <div class="container">\n        <div class="game">\n            <div class="header">\n                <div class="timer">\n                    <div class="timer__text">\n                        <div class="timer__text-min">min</div>\n                        <div class="timer__text-sec">sec</div>\n                    </div>\n                    <div class="timer__counter">\n                    <span class="timer__counter--min">00</span>.<span class="timer__counter--sec">00</span></div>\n                </div>\n                <button class="new-game">Начать заново</button>\n            </div>\n\n            <main class="game-wrap">\n                <div class="game__field">\n                    ${s.map((e=>e)).join("")}\n                </div>\n            </main>\n        </div>\n    </div>\n  `,setTimeout(i,5e3)})(u);break;default:console.log("404")}};m()})();